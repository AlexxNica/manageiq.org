{% assign hpath = page.url | append: ".html" %}
<!-- hpath: {{ hpath }} -->
<!-- page.url: {{ page.url }} -->

{% for item in include.items %}
  <!-- item.path: {{ item.path }} -->
  {% assign item_class = "" %}
  {% if item.children %}
    {% assign item_class = item_class | append: "menu-parent" %}
  {% endif %}
  {% if item.path == page.url or item.path == hpath %}
    {% assign item_class = item_class | append: "active" %}
  {% endif %}
  <li{% if item_class.size > 0 %} class="{{ item_class }}"{% endif %}>
    <a href="{% if item.path %}{{ item.path }}{% else %}#{% endif %}">
      {{ item.title }}
    </a>
    {% if item.children %}
    <ul>
      {% include doc_menu_items.html items=item.children %}
    </ul>
    {% endif %}
  </li>
{% endfor %}
